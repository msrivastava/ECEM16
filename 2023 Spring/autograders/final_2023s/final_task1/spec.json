{
	"mode": "production.submission.checking",
	"test_user_emails": [
		"mbs@ee.ucla.edu"
	],
	"required_files": [
		"da1_task4.circ" 
	],
	"optional_files": ["da1_task4.gv", "M16 Components.circ"],
	"helper_module_url": "https://www.dropbox.com/s/ax53hg1t6iju85n/helper_sequential.py?raw=1",
	"helper_module_task_url": "https://www.dropbox.com/s/tk1bxycl5gyhhlp/helper_task.py?raw=1",
	"stats_gsheet": {
		"name": "da1_task4_2023s_perfstats",
		"worksheet": 0
	},
	"grader_files": [
		{
			"name":"M16 Components.circ", 
			"url":"https://www.dropbox.com/s/e1xsqaentpjrek8/M16%20Components.circ?raw=1"
		},
		{
			"name":"da1_task4_tester.circ", 
			"url":"https://www.dropbox.com/s/zeri6sh7mh4mtxw/da1_task4_tester.circ?raw=1"
		}
	],
	"problem_specs": [
		{
			"id": "4",
			"test_type": "sequential",
			"dut": {"file":"da1_task4.circ", "circuit":"DUT"},
			"tb": {"file":"da1_task4_tester.circ", "circuit":"Tester"},
			"max_functionality_score": 45,
			"max_area_score": 15,
			"tests_at_submission_count":0,
			"tests_at_grading_percent":100,
			"minimum_penalty_percent":20,
			"percent_failed_tests_for_zero_score":5,
			"percent_penalty_invalid_component":100,
			"percent_penalty_total_component_count":100,
			"percent_penalty_individual_component_count":100,
			"min_score_percent_for_decent_effort":15,
			"percent_score_for_area": 25,
			"inputs": [
				{"name":"DIN1", "base":2, "length":16},
				{"name":"DIN2", "base":2, "length":16},
				{"name":"DIN3", "base":2, "length":16},
				{"name":"GO1", "base":2, "length":1},
				{"name":"GO2", "base":2, "length":1},
				{"name":"GO3", "base":2, "length":1},
				{"name":"CLK", "base":2, "length":1},
				{"name":"RST", "base":2, "length":1}
			],
			"outputs": [
				{"name":"DOUT", "base":2, "length":16},
				{"name":"DONE", "base":2, "length":1}
			],
			"costs": [
				{"lib":"Gates","name":"NOT Gate","costexpr":"2*{width=1}"},
				{"lib":"Gates","name":"NAND Gate","costexpr":"2*{inputs=2}*{width=1}+2*{width=1}*{negated=0}"},
				{"lib":"Gates","name":"NOR Gate","costexpr":"2*{inputs=2}*{width=1}+2*{width=1}*{negated=0}"},
				{"lib":"Gates","name":"AND Gate","costexpr":"2*(1+{inputs=2})*{width=1}+2*{width=1}*{negated=0}"},
				{"lib":"Gates","name":"OR Gate","costexpr":"2*(1+{inputs=2})*{width=1}+2*{width=1}*{negated=0}"},
				{"lib":"Gates","name":"XOR Gate","costexpr":"4*2*{inputs=2}*{width=1}+2*{width=1}*{negated=0}"},
				{"lib":"Gates","name":"XNOR Gate","costexpr":"4*2*{inputs=2}*{width=1}+2*{width=1}*{negated=0}"},
				{"lib":"Memory","name":"D Flip-Flop","costexpr":"18*{width=1}"},
				{"lib":"Memory","name":"T Flip-Flop","costexpr":"32*{width=1}"},
				{"lib":"Memory","name":"Register","costexpr":"20*{width=8}"},
				{"lib":"Plexers","name":"Multiplexer","costexpr":"6*{width=1}*(2**{inputs=1})+ 2*{inputs=1} + (2*{inputs=1}*(2**{inputs=1}) if {inputs=1}>1 else 0)"},
				{"lib":"Arithmetic","name":"Comparator","costexpr":"28*{width=8}"}
			],
			"logisim": {
				"allowed_versions": ["3.8.0"],
				"allowed_libs": [
					"Wiring", 
					"I/O"
				],
				"allowed_gates": [
					{"lib":"Gates","name":"NOT Gate","width":"any","maxcount":"50"},
					{"lib":"Gates","name":"NAND Gate","inputs":"any","width":"any","negated":"0","maxcount":"50"},
					{"lib":"Memory","name":"D Flip-Flop"},
					{"lib":"Memory","name":"Register","width":"any"},
					{"lib":"Arithmetic","name":"Comparator","width":"16","maxcount":"1"},
					{"lib":"Plexers","name":"Multiplexer","width":"16","inputs":"default","maxcount":"2"}
				],
				"disallowed_gates": [
					{"lib":"Wiring","name":"Transistor"},
					{"lib":"Wiring","name":"Transmission Gate"},
					{"lib":"Wiring","name":"Pull Resistor"},
					{"lib":"Wiring","name":"POR"}
				]
			},
			"tester": {
				"enabled": "True",
				"t_max": 8000,
				"t_max_print": 1000,
				"stateupdate_func": "stateupdate_func",
				"runtimestats_func": "runtimestats_func",
				"gsheetstats_func": "gsheetstats_func",
				"endstatevalidation_func_disabled": "validate_endstate_func",
				"effortchecker_func": "validate_effort_func",
				"scoring_func": "scoring_func",
				"scoring_func_args": {"best_area":2118, "threshold_full":1.1, "threshold_zero":2},
				"pins": [
					{"name":"CYCLE", "length":16, "display":"udec"},
					{"name":"RST", "length":1, "reset_sig":1, "reset_level":1},
					{"name":"GO1", "length":1},
					{"name":"GO2", "length":1},
					{"name":"GO3", "length":1},
					{"name":"DONE", "length":1, "binary_check":1,  "reset_check_value":0},
					{"name":"DIN1", "length":16, "display":"sdec"},
					{"name":"DIN2", "length":16, "display":"sdec"},
					{"name":"DIN3", "length":16, "display":"sdec"},
					{"name":"DOUT", "length":16, "display":"sdec", "binary_check":1},
					{"name":"CNTRST", "length":16, "display":"udec"},
					{"name":"CNTGO1", "length":16, "display":"udec"},
					{"name":"CNTGO2", "length":16, "display":"udec"},
					{"name":"CNTGO3", "length":16, "display":"udec"},
					{"name":"CNTDONE", "length":16, "display":"udec"}
				],
				"state": {
					"ticks":0,
					"runs_done":0,
					"resets_done":0,
					"jobs_arrived":0, 
					"t_arrivals_1":[], 
					"t_arrivals_2":[], 
					"t_arrivals_3":[], 
					"t_arrivals":[], 
					"opcount":0,
					"jobs_completed":0, 
					"t_completions":[],
					"execution_times":[],
					"correct_dout":0,
					"total_dout":0,
					"errrec": {"reset":0, "protocol":0, "dout_value":0, "nonbinary":0, "total":0, "badclockticks":0},
					"speedrec": {}
				},
				"assertions": [
					{"func":"check_no_nonbinary", 
						"enabled": "True",
						"is_fatal":0,
						"errtype":"nonbinary", 
						"description":"Non binary signal DONE and/or DOUT"},
					{"func":"check_signals_at_reset", 
						"enabled": "True",
						"is_fatal":0,
						"errtype":"reset", 
						"description":"Improper reset of DONE"},
					{"func":"check_protocol_func", 
						"enabled": "True",
						"params":{}, 
						"is_fatal":1,
						"errtype":"protocol", 
						"description":"DONE fails to follow protocol specification"},
					{"func":"check_output_value_func", 
						"enabled": "True",
						"params":{},
						"is_fatal":0,
						"errtype":"dout_value",
						"description":"DOUT value is incorrect at DONE event"}
				]
			}
		}
	]
}